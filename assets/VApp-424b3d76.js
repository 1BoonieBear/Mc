import{p as $,Q as M,l as E,ab as ue,L as D,n as le,ac as k,ad as F,V as T,j as c,W as z,s as H,K as X,U as Q,k as A,Z as ie,R as re,ae as ce,af as ve,E as de,g as fe,H as pe,I as ye,c as W}from"./index-2fe19c96.js";const me=$({class:[String,Array],style:{type:[String,Array,Object],default:null}},"component");function ge(e){const u=M("useRender");u.render=e}function he(e){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const l=E(),s=E();if(ue){const t=new ResizeObserver(n=>{e==null||e(n,t),n.length&&(u==="content"?s.value=n[0].contentRect:s.value=n[0].target.getBoundingClientRect())});D(()=>{t.disconnect()}),le(l,(n,r)=>{r&&(t.unobserve(k(r)),s.value=void 0),n&&t.observe(k(n))},{flush:"post"})}return{resizeRef:l,contentRect:F(s)}}const C=Symbol.for("vuetify:layout"),Y=Symbol.for("vuetify:layout-item"),q=1e3,Ie=$({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),Le=$({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function ze(){const e=T(C);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function $e(e){const u=T(C);if(!u)throw new Error("[Vuetify] Could not find injected layout");const l=e.id??`layout-item-${re()}`,s=M("useLayoutItem");Q(Y,{id:l});const t=H(!1);ce(()=>t.value=!0),ve(()=>t.value=!1);const{layoutItemStyles:n,layoutItemScrimStyles:r}=u.register(s,{...e,active:c(()=>t.value?!1:e.active.value),id:l});return D(()=>u.unregister(l)),{layoutItemStyles:n,layoutRect:u.layoutRect,layoutItemScrimStyles:r}}const be=(e,u,l,s)=>{let t={top:0,left:0,right:0,bottom:0};const n=[{id:"",layer:{...t}}];for(const r of e){const p=u.get(r),m=l.get(r),I=s.get(r);if(!p||!m||!I)continue;const g={...t,[p.value]:parseInt(t[p.value],10)+(I.value?parseInt(m.value,10):0)};n.push({id:r,layer:g}),t=g}return n};function Se(e){const u=T(C,null),l=c(()=>u?u.rootZIndex.value-100:q),s=E([]),t=z(new Map),n=z(new Map),r=z(new Map),p=z(new Map),m=z(new Map),{resizeRef:I,contentRect:g}=he(),G=c(()=>{const a=new Map,d=e.overlaps??[];for(const o of d.filter(v=>v.includes(":"))){const[v,i]=o.split(":");if(!s.value.includes(v)||!s.value.includes(i))continue;const y=t.get(v),h=t.get(i),x=n.get(v),w=n.get(i);!y||!h||!x||!w||(a.set(i,{position:y.value,amount:parseInt(x.value,10)}),a.set(v,{position:h.value,amount:-parseInt(w.value,10)}))}return a}),b=c(()=>{const a=[...new Set([...r.values()].map(o=>o.value))].sort((o,v)=>o-v),d=[];for(const o of a){const v=s.value.filter(i=>{var y;return((y=r.get(i))==null?void 0:y.value)===o});d.push(...v)}return be(d,t,n,p)}),j=c(()=>!Array.from(m.values()).some(a=>a.value)),S=c(()=>b.value[b.value.length-1].layer),J=c(()=>({"--v-layout-left":A(S.value.left),"--v-layout-right":A(S.value.right),"--v-layout-top":A(S.value.top),"--v-layout-bottom":A(S.value.bottom),...j.value?void 0:{transition:"none"}})),R=c(()=>b.value.slice(1).map((a,d)=>{let{id:o}=a;const{layer:v}=b.value[d],i=n.get(o),y=t.get(o);return{id:o,...v,size:Number(i.value),position:y.value}})),N=a=>R.value.find(d=>d.id===a),V=M("createLayout"),K=H(!1);X(()=>{K.value=!0}),Q(C,{register:(a,d)=>{let{id:o,order:v,position:i,layoutSize:y,elementSize:h,active:x,disableTransitions:w,absolute:oe}=d;r.set(o,v),t.set(o,i),n.set(o,y),p.set(o,x),w&&m.set(o,w);const U=ie(Y,V==null?void 0:V.vnode).indexOf(a);U>-1?s.value.splice(U,0,o):s.value.push(o);const Z=c(()=>R.value.findIndex(L=>L.id===o)),B=c(()=>l.value+b.value.length*2-Z.value*2),ne=c(()=>{const L=i.value==="left"||i.value==="right",O=i.value==="right",se=i.value==="bottom",_={[i.value]:0,zIndex:B.value,transform:`translate${L?"X":"Y"}(${(x.value?0:-110)*(O||se?-1:1)}%)`,position:oe.value||l.value!==q?"absolute":"fixed",...j.value?void 0:{transition:"none"}};if(!K.value)return _;const f=R.value[Z.value];if(!f)throw new Error(`[Vuetify] Could not find layout item "${o}"`);const P=G.value.get(o);return P&&(f[P.position]+=P.amount),{..._,height:L?`calc(100% - ${f.top}px - ${f.bottom}px)`:h.value?`${h.value}px`:void 0,left:O?void 0:`${f.left}px`,right:O?`${f.right}px`:void 0,top:i.value!=="bottom"?`${f.top}px`:void 0,bottom:i.value!=="top"?`${f.bottom}px`:void 0,width:L?h.value?`${h.value}px`:void 0:`calc(100% - ${f.left}px - ${f.right}px)`}}),ae=c(()=>({zIndex:B.value-1}));return{layoutItemStyles:ne,layoutItemScrimStyles:ae,zIndex:B}},unregister:a=>{r.delete(a),t.delete(a),n.delete(a),p.delete(a),m.delete(a),s.value=s.value.filter(d=>d!==a)},mainRect:S,mainStyles:J,getLayoutItem:N,items:R,layoutRect:g,rootZIndex:l});const ee=c(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),te=c(()=>({zIndex:l.value,position:u?"relative":void 0,overflow:u?"hidden":void 0}));return{layoutClasses:ee,layoutStyles:te,getLayoutItem:N,items:R,layoutRect:g,layoutRef:I}}function Ae(){const e=H(!1);return X(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:c(()=>e.value?void 0:{transition:"none !important"}),isBooted:F(e)}}const Ce=$({tag:{type:String,default:"div"}},"tag");const Re=$({...me(),...Ie({fullHeight:!0}),...de()},"VApp"),Ve=fe()({name:"VApp",props:Re(),setup(e,u){let{slots:l}=u;const s=pe(e),{layoutClasses:t,layoutStyles:n,getLayoutItem:r,items:p,layoutRef:m}=Se(e),{rtlClasses:I}=ye();return ge(()=>{var g;return W("div",{ref:m,class:["v-application",s.themeClasses.value,t.value,I.value,e.class],style:[n.value,e.style]},[W("div",{class:"v-application__wrap"},[(g=l.default)==null?void 0:g.call(l)])])}),{getLayoutItem:r,items:p,theme:s}}});export{Ve as V,Ce as a,Ae as b,ge as c,Le as d,$e as e,he as f,me as m,ze as u};
